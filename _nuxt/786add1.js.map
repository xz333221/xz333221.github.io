{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./components/Search.vue?c824","webpack:///./components/Search.vue?7a1d","webpack:///./components/Search.vue?8d8b","webpack:///./components/Search.vue?cfff","webpack:///./utils/index.ts","webpack:///./components/Search.vue?7092","webpack:///./components/Search.vue?d447","webpack:///./components/Search.vue"],"names":["$export","$find","KEY","forced","Array","P","F","find","callbackfn","this","arguments","length","undefined","content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","push","Debounced","use","func","delay","timer","immediate","args","apply","clearTimeout","setTimeout","Search","search_text","debounce_search_text","show_list","search_items","search_item_ind","search_item_old_ind","search_hover","public_config","debounce_inp","get_search_list","debounce_search_text_fn","get_debounce_search_text","JSON","parse","$store","getters","config","front_config","search_list","arr","state","search","forEach","item","search_list_personal","includes","id","newVal","change_parent_search_text","oldVal","obj","q","url","BASE_URL","inp_focus","$refs","search_inp","focus","$axios","get","res","data","console","log","e","target","value","fn","wait","ind","key","Number","list_length","jump_default","default_search_engine","jump_url_prefix","jump","window","open","Vue","__decorate","Watch","Emit","Component","component","_vm","_h","$createElement","_c","_self","class","staticClass","_l","btn_item","on","$event","attrs","calc","src","_v","ref","domProps","change_search_text","hide_list","inp_on_keyup","directives","name","rawName","expression","search_item","on_search_item_mousemove","stopPropagation","_s","installComponents","CommonCard"],"mappings":"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","file":"786add1.js","sourcesContent":["'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=2d0ac17a&scoped=true&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6c7a6835\", content, true, {\"sourceMap\":false});","export * from \"-!../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=2d0ac17a&scoped=true&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".CommonCard[data-v-2d0ac17a]{position:relative;z-index:10;background-color:hsla(0,0%,100%,.5)!important;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.CommonCard .Search[data-v-2d0ac17a],.CommonCard .Search .flex-row[data-v-2d0ac17a]{width:100%;height:100%}.CommonCard .Search .flex-row .search_btn[data-v-2d0ac17a]{display:flex;justify-content:center}.CommonCard .Search .flex-row .search_btn .btn_item[data-v-2d0ac17a]{width:60px;height:60px;padding:10px;cursor:pointer;margin-bottom:10px}.CommonCard .Search .flex-row .search_btn .btn_item img[data-v-2d0ac17a]{width:100%}.CommonCard .Search .flex-row .input_box[data-v-2d0ac17a]{border:2px solid #6495ed;border-radius:8px;overflow:hidden}.CommonCard .Search .flex-row .input_box .input_wrap[data-v-2d0ac17a]{background:#fff;padding:0 15px;display:flex;align-items:center}.CommonCard .Search .flex-row .input_box .input_wrap .inp[data-v-2d0ac17a]{border:none;width:100%;height:40px}.CommonCard .Search .flex-row .input_box .input_wrap .icon-guanbi[data-v-2d0ac17a]{color:#999;cursor:pointer}.CommonCard .Search .flex-row .input_box .search_list_wrap[data-v-2d0ac17a]{background-color:#fff}.CommonCard .Search .flex-row .input_box .search_list_wrap .line[data-v-2d0ac17a]{width:calc(100% - 30px);height:1px;background-color:#d6d6d6;margin:0 15px}.CommonCard .Search .flex-row .input_box .search_list_wrap .search_item[data-v-2d0ac17a]{text-align:left;height:35px;display:flex;align-items:center;padding:0 15px;cursor:pointer;color:#626675}.CommonCard .Search .flex-row .input_box .search_list_wrap .search_item.active[data-v-2d0ac17a]{color:#358fff;background-color:#efefef}.CommonCard .Search .flex-row .frame_wrap[data-v-2d0ac17a]{flex-grow:1;height:100%}.CommonCard .Search .flex-row .frame_wrap .search_iframe[data-v-2d0ac17a]{width:calc(100% + 35px)}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('common-card',{class:{'search_text':_vm.search_text}},[_c('div',{staticClass:\"Search\"},[_c('div',{staticClass:\"flex-row\"},[_c('div',{staticClass:\"search_container\"},[_c('div',{staticClass:\"search_btn\"},_vm._l((_vm.search_btn_list_personal),function(btn_item,i){return _c('div',{key:i,staticClass:\"btn_item\",on:{\"click\":function($event){return _vm.jump(btn_item.jump_url_prefix)}}},[_c('img',{attrs:{\"src\":_vm.calc(btn_item.src),\"alt\":\"\"}})])}),0),_vm._v(\" \"),_c('div',{staticClass:\"input_box\"},[_c('div',{staticClass:\"input_wrap\"},[_c('input',{ref:\"search_inp\",staticClass:\"inp\",attrs:{\"type\":\"text\",\"autofocus\":\"\"},domProps:{\"value\":_vm.search_text},on:{\"input\":_vm.change_search_text,\"focus\":function($event){_vm.show_list=true},\"blur\":_vm.hide_list,\"keyup\":_vm.inp_on_keyup}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.search_text.length),expression:\"search_text.length\"}],staticClass:\"iconfont icon-guanbi\",on:{\"click\":function($event){_vm.search_text=''}}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.search_text.length&&_vm.show_list&&_vm.search_items.length),expression:\"search_text.length&&show_list&&search_items.length\"}],staticClass:\"search_list_wrap\"},[_c('div',{staticClass:\"line\"}),_vm._v(\" \"),_vm._l((_vm.search_items),function(search_item,i){return _c('div',{key:'search_item_'+i,class:['search_item',{'active':i===_vm.search_item_ind}],on:{\"mousemove\":function($event){return _vm.on_search_item_mousemove(i)},\"mouseleave\":function($event){_vm.search_hover = false},\"click\":function($event){$event.stopPropagation();return _vm.jump_default.apply(null, arguments)}}},[_vm._v(\"\\n              \"+_vm._s(search_item.q)+\"\\n            \")])})],2)])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function generateId() {\n  var temp_url = URL.createObjectURL(new Blob());\n  var uuid = temp_url.toString(); // blob:https://xxx.com/b250d159-e1b6-4a87-9002-885d90033be3\n  URL.revokeObjectURL(temp_url);\n  return uuid.substr(uuid.lastIndexOf(\"/\") + 1);\n}\n\n// 防抖(ts)\nexport class Debounced {\n  /**\n   * @param func 需要包装的函数\n   * @param delay 延迟时间，单位ms\n   * @param immediate 是否默认执行一次(第一次不延迟)\n   */\n  public use = (func: Function, delay: number, immediate: boolean = false): Function => {\n    let timer: number | undefined\n    return ( ...args: any) => {\n      if (immediate) {\n        func.apply(this, args) // 确保引用函数的指向正确，并且函数的参数也不变\n        immediate = false\n        return\n      }\n      clearTimeout(timer)\n      // @ts-ignore\n      timer = setTimeout(() => {\n        func.apply(this, args)\n      }, delay)\n    }\n  }\n}\n\n// 节流(ts)\nexport class Throttle {\n  private timer: number | undefined\n  private stop: boolean = false\n  private death: boolean = false\n  /**\n   * @param func 需要包装的函数\n   * @param delay 延迟时间，单位ms\n   * @param immediate 是否默认执行一次(第一次不延迟)\n   */\n  public use (func: Function, delay: number, immediate: boolean = false): Function {\n    let flag = true\n    const self = this\n    return (...args: any) => {\n      if (this.death) {\n        func.apply(this, args)\n        return\n      }\n      if (this.stop) {\n        func.apply(this, args)\n        return\n      }\n      if (immediate) {\n        func.apply(this, args)\n        immediate = false\n        return\n      }\n      if (!flag) {\n        return\n      }\n      flag = false\n      // @ts-ignore\n      self.timer = setTimeout(() => {\n        func.apply(this, args)\n        flag = true\n      }, delay)\n    }\n  }\n\n  // 销毁\n  public destroy() {\n    this.death = true\n    this.stop = true\n    if (!!this.timer) {\n      clearTimeout(this.timer)\n      this.timer = undefined\n    }\n  }\n  // 开启\n  public open() {\n    if (!this.death) {\n      this.stop = false\n    }\n  }\n  // 关闭\n  public close() {\n    this.stop = true\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Debounced} from '@/utils'\nimport {Vue, Component, Watch, Emit} from 'vue-property-decorator'\n\nimport public_config from '@/public.config'\n\ninterface search_item {\n  q: string\n}\n\n@Component\nexport default class Search extends Vue {\n  search_text: string = ''\n  debounce_search_text: string = ''\n  show_list: boolean = false\n  search_items: search_item[] = []\n  search_item_ind: string | number = ''\n  search_item_old_ind: string | number = ''\n  search_hover: boolean = false\n  public_config: any = public_config\n\n  get config() {\n    return JSON.parse(this.$store.getters['user/config'])\n  }\n\n  // todo:获取搜索 icon 列表 id\n  get search_list_personal() {\n    if (this.config && this.config.front_config && this.config.front_config.search_list) {\n      return this.config.front_config.search_list\n    } else {\n      return [1, 2, 3, 4, 5, 6, 7, 8, 9]\n    }\n  }\n\n  // todo:计算 搜索 icon 列表\n  get search_btn_list_personal() {\n    let arr: object[] = []\n    this.$store.state.search.search_list.forEach((item: any) => {\n      if (this.search_list_personal.includes(item.id)) {\n        arr.push(item)\n      }\n    })\n    return arr\n  }\n\n  $axios: any;\n\n  created(): void {\n  }\n\n  get list_length() {\n    return this.search_items.length\n  }\n\n  private debounce_inp: Function = new Debounced().use(this.get_search_list, 500)\n  private debounce_search_text_fn: Function = new Debounced().use(this.get_debounce_search_text, 500)\n\n  @Watch('search_text')\n  getNewSearchText(newVal: string) {\n    this.change_parent_search_text()\n    // if (newVal === '') {}\n    this.show_list = true\n    if (this.search_item_old_ind === this.search_item_ind) {\n      this.debounce_inp()\n      this.debounce_search_text_fn()\n      this.search_item_ind = ''\n      this.search_item_old_ind = ''\n    }\n  }\n\n  @Emit('update:search_text_father')\n  private change_parent_search_text() {\n    return this.search_text;\n  }\n\n  @Watch('search_item_ind')\n  getNewSearchItemInd(newVal: any, oldVal: any) {\n    this.search_item_old_ind = oldVal\n    if (newVal !== '') {\n      let obj: any = this.search_items[newVal]\n      if (!this.search_hover) {\n        this.search_text = obj.q\n      }\n      // this.debounce_search_text_fn()\n    }\n  }\n\n  calc(url: string) {\n    if (url[0] === '/') url = this.public_config.BASE_URL + url\n    return url\n  }\n\n  hide_list() {\n    setTimeout(() => {\n      this.show_list = false\n    }, 150)\n  }\n\n  on_search_item_mousemove(i: number) {\n    this.search_item_ind = i\n    this.search_hover = true\n  }\n\n  get_debounce_search_text() {\n    this.debounce_search_text = this.search_text\n    this.inp_focus()\n    // document.querySelectorAll('iframe').forEach(item => {\n    //   console.log('item:', item)\n    //   const iframe_win: any = item.contentWindow\n    //   console.log('iframe_win:', iframe_win)\n    //   const docu: any = iframe_win.document\n    //   console.log('docu:', docu)\n    //   docu.querySelector('html').style.background = \"#333\"\n    // })\n  }\n\n  inp_focus() {\n    const inp_element: any = this.$refs.search_inp\n    inp_element.focus()\n  }\n\n  async get_search_list() {\n    try {\n      let res = await this.$axios.get(`/xz_server/main/getSearchList?wd=${this.search_text}`)\n      this.search_items = res.data\n    } catch (e) {\n      console.log('e:', e)\n    }\n  }\n\n  change_search_text(e: { target: { value: string; }; }) {\n    console.log('e:', e)\n    this.search_text = e.target.value\n    this.show_list = true\n    this.get_search_list()\n    this.search_item_ind = ''\n  }\n\n  debounce(fn: any, wait = 1000, immediate: any) {\n    let timer: NodeJS.Timeout | null = null\n    return (args: any) => {\n      // ??????????????this????????????\n      if (timer) clearTimeout(timer)\n      // ------ 新增部分 start ------\n      // immediate 为 true 表示第一次触发后执行\n      // timer 为空表示首次触发\n      if (immediate && !timer) {\n        fn.apply(this, args)\n      }\n      // ------ 新增部分 end ------\n      timer = setTimeout(() => {\n        fn.apply(this, args)\n      }, wait)\n    }\n  }\n\n  inp_on_keyup(e: { key: string; }) {\n    // console.log('e:', e)\n    let ind\n    switch (e.key) {\n      case 'ArrowUp':\n        ind = Number(this.search_item_ind) - 1\n        if (ind < 0) {\n          this.search_item_ind = this.list_length + ind\n        } else {\n          this.search_item_ind = ind\n        }\n        break\n      case 'ArrowDown':\n        if (this.search_item_ind === '') {\n          this.search_item_ind = 0\n        } else {\n          ind = Number(this.search_item_ind) + 1\n          if (ind > this.list_length - 1) {\n            this.search_item_ind = 0\n          } else {\n            this.search_item_ind = ind\n          }\n        }\n        break\n      case 'Enter':\n        this.jump_default()\n        break\n    }\n  }\n\n  jump_default() {\n    const config = JSON.parse(this.$store.getters['user/config'])\n    const default_search_engine = config && config.front_config.default_search_engine || 1\n    const item = this.$store.state.search.search_list.find((item: any) => item.id === default_search_engine)\n    const jump_url_prefix = item.jump_url_prefix\n    this.jump(jump_url_prefix)\n  }\n\n  jump(jump_url_prefix: string) {\n    let search_text = this.search_hover ? this.search_items[this.search_item_ind as number].q : this.search_text\n    window.open(`${jump_url_prefix}${search_text}`)\n    this.show_list = false\n    // this.search_text = ''\n    this.search_item_ind = ''\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--12-0!../node_modules/ts-loader/index.js??ref--12-1!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--12-0!../node_modules/ts-loader/index.js??ref--12-1!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=2d0ac17a&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=ts&\"\nexport * from \"./Search.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=2d0ac17a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d0ac17a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {CommonCard: require('/var/www/HomePage/components/common/CommonCard.vue').default})\n"],"sourceRoot":""}